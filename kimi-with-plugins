#!/bin/bash
#
# Kimi CLI with User Plugins
# ===========================
#
# 这是一个wrapper脚本，用于启动带插件支持的kimi-cli。
# 使用方法:
#   ./kimi-with-plugins [arguments...]
#
# 建议设置别名:
#   alias km='/Users/chenzongwei/kimi-cli/kimi-with-plugins'
#

# 获取脚本所在目录
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

# 添加 src 到 PYTHONPATH
export PYTHONPATH="${SCRIPT_DIR}/src:${PYTHONPATH}"

# 使用虚拟环境的 Python 直接运行（保持当前工作目录）
exec "$SCRIPT_DIR/.venv/bin/python" -m kimi_cli.plugins.entry "$@"
